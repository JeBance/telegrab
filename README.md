# ü§ñ Telegrab v5.0 ‚Äî –ê—Ä—Ö–∏–≤–∞—Ç–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π Telegram

[![Python](https://img.shields.io/badge/Python-3.8%2B-blue.svg)](https://python.org)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.104%2B-green.svg)](https://fastapi.tiangolo.com)
[![Telethon](https://img.shields.io/badge/Telethon-1.34%2B-green.svg)](https://docs.telethon.dev)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)
[![24/7](https://img.shields.io/badge/Works-24/7-brightgreen.svg)](https://github.com/JeBance/telegrab)

**Telegrab** ‚Äî —ç—Ç–æ —Å–µ—Ä–≤–µ—Ä –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ Telegram-—á–∞—Ç–æ–≤. –†–∞–±–æ—Ç–∞–µ—Ç 24/7, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç REST API –∏ WebSocket –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.

---

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞ 5 –º–∏–Ω—É—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç--–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–∑–∞-5-–º–∏–Ω—É—Ç)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–Ω–∞-—Å–µ—Ä–≤–µ—Ä)
- [–ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–µ–π Telegram](#–ø–æ–ª—É—á–µ–Ω–∏–µ-api-–∫–ª—é—á–µ–π-telegram)
- [–°–ø–æ—Å–æ–±—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏](#—Å–ø–æ—Å–æ–±—ã-–Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
- [–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å](#–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
- [API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#api-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
- [Production —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ](#production-—Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ)
- [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏](#–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥-–∏-–ª–æ–≥–∏)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–õ–∏—Ü–µ–Ω–∑–∏—è](#–ª–∏—Ü–µ–Ω–∑–∏—è)

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| üì• **Real-time —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** | –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ —á–∞—Ç–æ–≤ |
| üîî **WebSocket —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** | Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ |
| üìö **–ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏** | –ü–æ—ç—Ç–∞–ø–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å —Å–æ–±–ª—é–¥–µ–Ω–∏–µ–º –ª–∏–º–∏—Ç–æ–≤ Telegram API |
| üîç **–ü–æ–∏—Å–∫** | –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏—è–º |
| üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** | –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —á–∞—Ç–∞–º –∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º |
| üöÄ **–†–∞–±–æ—Ç–∞ 24/7** | –°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç UI |
| üåê **REST API** | –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π HTTP API —Å –∞–≤—Ç–æ–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π (Swagger) |
| üé® **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** | –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å —Ç—ë–º–Ω–æ–π —Ç–µ–º–æ–π |
| ü§ñ **UserBot —Ä–µ–∂–∏–º** | –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –±–æ—Ç–æ–≤ |
| ‚ö° **–û—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á** | –§–æ–Ω–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–∞—á —Å rate limiting |
| üîÑ **–ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ |

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞ 5 –º–∏–Ω—É—Ç

### –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á–∏ Telegram

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://my.telegram.org
2. –í–æ–π–¥–∏—Ç–µ –ø–æ–¥ —Å–≤–æ–∏–º –Ω–æ–º–µ—Ä–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω–∞
3. –í—ã–±–µ—Ä–∏—Ç–µ **"API Development Tools"**
4. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
   - **App title:** Telegrab
   - **Short name:** telegrab
   - **URL:** (–æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º)
   - **Platform:** Desktop
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **API ID** –∏ **API Hash**

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/JeBance/telegrab.git /opt/telegrab
cd /opt/telegrab

# –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

**–í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ —Ñ–∞–π–ª .env**
```bash
cp .env.example .env
nano .env
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
```ini
API_ID=12345678
API_HASH=abcdef1234567890abcdef1234567890
PHONE=+79991234567
API_PORT=3000
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä: `python telegrab.py`
2. –û—Ç–∫—Ä–æ–π—Ç–µ http://–≤–∞—à-ip:3000/ui
3. –í–≤–µ–¥–∏—Ç–µ API_ID, API_HASH, PHONE –≤ —Ñ–æ—Ä–º–µ
4. –ù–∞–∂–º–∏—Ç–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å"
5. –û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR-–∫–æ–¥

### –®–∞–≥ 4: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

```bash
# –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ (24/7)
nohup python telegrab.py > /tmp/telegrab.log 2>&1 &

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
curl http://localhost:3000/health
```

### –®–∞–≥ 5: –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –≤ Telegram

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://–≤–∞—à-ip:3000/ui
2. –ù–∞–∂–º–∏—Ç–µ **"–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –ø–æ QR-–∫–æ–¥—É"**
3. –û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR-–∫–æ–¥ –≤ Telegram:
   - **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞** ‚Üí **–ü–æ–¥–∫–ª—é—á–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ**
4. –ì–æ—Ç–æ–≤–æ! –°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç 24/7

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

| –†–µ—Å—É—Ä—Å | –ú–∏–Ω–∏–º—É–º | –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è |
|--------|---------|---------------|
| CPU | 1 —è–¥—Ä–æ | 2 —è–¥—Ä–∞ |
| RAM | 512 MB | 1 GB |
| Disk | 5 GB | 20 GB SSD |
| OS | Ubuntu 20.04+ | Ubuntu 22.04 LTS |

### –ü–æ—à–∞–≥–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
sudo apt update && sudo apt upgrade -y

# 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python
sudo apt install -y python3 python3-pip python3-venv

# 3. –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
sudo mkdir -p /opt/telegrab
sudo chown $USER:$USER /opt/telegrab
cd /opt/telegrab

# 4. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/JeBance/telegrab.git .

# 5. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python3 -m venv venv
source venv/bin/activate

# 6. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install --upgrade pip
pip install -r requirements.txt
```

---

## –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–µ–π Telegram

### –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å–∞–π—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Telegram:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ https://my.telegram.org
   - –í–æ–π–¥–∏—Ç–µ –ø–æ–¥ —Å–≤–æ–∏–º –Ω–æ–º–µ—Ä–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–≤ —Ñ–æ—Ä–º–∞—Ç–µ +7...)

2. **–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
   - –í—ã–±–µ—Ä–∏—Ç–µ **"API Development Tools"**
   - –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
     ```
     App title: Telegrab
     Short name: telegrab
     URL: (–æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º)
     Platform: Desktop
     ```

3. **–ü–æ–ª—É—á–∏—Ç–µ –∫–ª—é—á–∏:**
   - **API ID:** —á–∏—Å–ª–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `12345678`)
   - **API Hash:** 32 —Å–∏–º–≤–æ–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `abcdef1234567890abcdef1234567890`)

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ API –∫–ª—é—á–∏ —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º –∏ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ñ–∞–π–ª `.env` –≤ –ø—É–±–ª–∏—á–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π!

---

## –°–ø–æ—Å–æ–±—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ —Ñ–∞–π–ª .env (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
cd /opt/telegrab
cp .env.example .env
nano .env
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```ini
# –ü–æ–ª—É—á–∏—Ç—å –Ω–∞ https://my.telegram.org
API_ID=12345678
API_HASH=abcdef1234567890abcdef1234567890
PHONE=+79991234567

# API –∫–ª—é—á (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
API_KEY=

# –ü–æ—Ä—Ç API
API_PORT=3000
```

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä: `python telegrab.py`
2. –û—Ç–∫—Ä–æ–π—Ç–µ http://–≤–∞—à-ip:3000/ui
3. –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º—É –Ω–∞ —ç–∫—Ä–∞–Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
4. –ù–∞–∂–º–∏—Ç–µ **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å"**
5. –û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR-–∫–æ–¥

### –°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ Docker Compose

```yaml
# docker-compose.yml
version: '3.8'

services:
  telegrab:
    build: .
    container_name: telegrab
    restart: unless-stopped
    ports:
      - "3000:3000"
    volumes:
      - ./data:/app/data
      - ./.env:/app/.env:ro
    environment:
      - API_ID=12345678
      - API_HASH=abcdef1234567890abcdef1234567890
      - PHONE=+79991234567
```

```bash
docker-compose up -d
```

---

## –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –î–æ—Å—Ç—É–ø

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://–≤–∞—à-ip:3000/ui`

### –í–∫–ª–∞–¥–∫–∏

| –í–∫–ª–∞–¥–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| **–û–±–∑–æ—Ä** | –î–∞—à–±–æ—Ä–¥ —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π –∏ –±—ã—Å—Ç—Ä—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏ |
| **–ß–∞—Ç—ã** | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–º–∏ —á–∞—Ç–∞–º–∏, –∑–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ |
| **–°–æ–æ–±—â–µ–Ω–∏—è** | –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ –ø–æ–∏—Å–∫ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π |
| **–ó–∞–¥–∞—á–∏** | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á |
| **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |

### –§—É–Ω–∫—Ü–∏–∏

- ‚úÖ **QR-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** ‚Äî –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ QR-–∫–æ–¥–∞
- ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —á–∞—Ç–æ–≤** ‚Äî –≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ –ø–æ —Å—Å—ã–ª–∫–µ –∏–ª–∏ username
- ‚úÖ **–ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏** ‚Äî —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ª–∏–º–∏—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ **Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** ‚Äî —á–µ—Ä–µ–∑ WebSocket
- ‚úÖ **–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö** ‚Äî –≤—ã–≥—Ä—É–∑–∫–∞ –≤ JSON

---

## API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ë–∞–∑–æ–≤—ã–π URL

```
http://–≤–∞—à-ip:3000
```

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–í—Å–µ endpoints —Ç—Ä–µ–±—É—é—Ç API –∫–ª—é—á –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ:
```
X-API-Key: –≤–∞—à_api_key
```

API –∫–ª—é—á –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `.env`.

### Swagger UI

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `http://–≤–∞—à-ip:3000/docs`

### –û—Å–Ω–æ–≤–Ω—ã–µ endpoints

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| `GET` | `/health` | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ |
| `GET` | `/stats` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞—Ä—Ö–∏–≤–∞ |
| `GET` | `/chats` | –°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ |
| `GET` | `/tracked_chats` | –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ —á–∞—Ç—ã |
| `POST` | `/tracked_chats` | –î–æ–±–∞–≤–∏—Ç—å —á–∞—Ç |
| `GET` | `/messages` | –°–æ–æ–±—â–µ–Ω–∏—è —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π |
| `GET` | `/search?q=...` | –ü–æ–∏—Å–∫ –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—è–º |
| `POST` | `/load` | –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é —á–∞—Ç–∞ |
| `GET` | `/queue` | –°—Ç–∞—Ç—É—Å –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á |
| `WS` | `/ws` | WebSocket –¥–ª—è real-time |

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞

```bash
# –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
curl -H "X-API-Key: –≤–∞—à_–∫–ª—é—á" \
  http://localhost:3000/stats

# –î–æ–±–∞–≤–∏—Ç—å —á–∞—Ç –≤ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ
curl -X POST \
  -H "X-API-Key: –≤–∞—à_–∫–ª—é—á" \
  "http://localhost:3000/tracked_chats?chat_id=-1001234567890&chat_title=News&chat_type=channel"

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é
curl -X POST \
  -H "X-API-Key: –≤–∞—à_–∫–ª—é—á" \
  "http://localhost:3000/load?chat_id=-1001234567890&limit=200"
```

---

## Production —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –∫–∞–∫ –¥–µ–º–æ–Ω

```bash
# –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
nohup python telegrab.py > /tmp/telegrab.log 2>&1 &

# –ü—Ä–æ–≤–µ—Ä–∫–∞
ps aux | grep telegrab
curl http://localhost:3000/health
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pkill -f telegrab.py
```

### –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ (systemd)

**1. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å:**
```bash
sudo nano /etc/systemd/system/telegrab.service
```

**2. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
```ini
[Unit]
Description=Telegrab Telegram Archiver
After=network.target

[Service]
Type=simple
User=telegrab
WorkingDirectory=/opt/telegrab
Environment="PATH=/opt/telegrab/venv/bin"
ExecStart=/opt/telegrab/venv/bin/python telegrab.py
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

**3. –í–∫–ª—é—á–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:**
```bash
sudo systemctl daemon-reload
sudo systemctl enable telegrab
sudo systemctl start telegrab
```

**4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:**
```bash
sudo systemctl status telegrab
journalctl -u telegrab -f
```

### HTTPS —á–µ—Ä–µ–∑ nginx

**1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ nginx:**
```bash
sudo apt install -y nginx
```

**2. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥:**
```bash
sudo nano /etc/nginx/sites-available/telegrab
```

```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://127.0.0.1:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_read_timeout 86400;
    }
}
```

**3. –í–∫–ª—é—á–∏—Ç–µ –∏ –ø–æ–ª—É—á–∏—Ç–µ SSL:**
```bash
sudo ln -s /etc/nginx/sites-available/telegrab /etc/nginx/sites-enabled/
sudo certbot --nginx -d your-domain.com
```

---

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
tail -f /tmp/telegrab.log

# –õ–æ–≥–∏ systemd
journalctl -u telegrab -f

# –õ–æ–≥–∏ nginx
tail -f /var/log/nginx/telegrab.access.log
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
# Health check
curl http://localhost:3000/health

# –°—Ç–∞—Ç—É—Å Telegram
curl -H "X-API-Key: –≤–∞—à_–∫–ª—é—á" \
  http://localhost:3000/telegram_status

# –°—Ç–∞—Ç—É—Å –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á
curl -H "X-API-Key: –≤–∞—à_–∫–ª—é—á" \
  http://localhost:3000/queue
```

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑:
- **Systemd watchdog** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≤–∏—Å–∞–Ω–∏–∏
- **Health check —Å–∫—Ä–∏–ø—Ç** ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤ –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏
- **Telegram –±–æ—Ç** ‚Äî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ —Å–µ—Ä–≤–µ—Ä–∞

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
telegrab/
‚îú‚îÄ‚îÄ telegrab.py           # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ api.py                # FastAPI —Å–µ—Ä–≤–µ—Ä + Telethon –∫–ª–∏–µ–Ω—Ç
‚îú‚îÄ‚îÄ requirements.txt      # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env.example          # –®–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ .env                  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ!)
‚îú‚îÄ‚îÄ docker-compose.yml    # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Dockerfile            # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ nginx.conf            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è nginx
‚îú‚îÄ‚îÄ telegrab.service      # Systemd —Å–µ—Ä–≤–∏—Å
‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îú‚îÄ‚îÄ index.html        # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îî‚îÄ‚îÄ app.js            # –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π JavaScript
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ telegrab.db       # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite
‚îÇ   ‚îî‚îÄ‚îÄ telegrab_*.session # –°–µ—Å—Å–∏–∏ Telegram (–Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ!)
‚îî‚îÄ‚îÄ scripts/
    ‚îú‚îÄ‚îÄ auto-update.sh    # –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    ‚îî‚îÄ‚îÄ README.md         # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤
```

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License ‚Äî —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE)

---

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **GitHub Issues:** https://github.com/JeBance/telegrab/issues
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** https://github.com/JeBance/telegrab/wiki

---

**Telegrab v5.0** ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç 24/7 –¥–ª—è –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∞—à–∏—Ö Telegram —Å–æ–æ–±—â–µ–Ω–∏–π üöÄ
